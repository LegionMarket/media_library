$.Redactor.prototype.medialibrary=function(){return{init:function(){var i=this.button.add("medialibrary","MediaLibrary");this.button.addCallback(i,this.medialibrary.addMedialibrary),this.button.setIcon(i,'<i class="material-icons">photo_library</i>')},addMedialibrary:function(){var i,t=this.$element,e={},a=t.data().redactorSettings.medialibraryUrl;this.medialibrary.BottomSheets=i=$("body").data("qor.bottomsheets"),e.url=a,i.open(e,this.medialibrary.handleMediaLibrary)},handleMediaLibrary:function(){var i=$(".qor-bottomsheets"),t={onSelect:this.medialibrary.selectResults,onSubmit:this.medialibrary.submitResults};i.qorSelectCore(t).addClass("qor-bottomsheets__mediabox").find(".qor-button--new").data("ingore-submit",!0)},selectResults:function(i,t){this.medialibrary.handleResults(i,t)},submitResults:function(i,t){this.medialibrary.handleResults(i,t,!0)},handleResults:function(i,t,e){var a,r={};a=e?JSON.parse(t.MediaOption).URL:$(t.Image).prop("src"),a=a.replace(/image\..+\./,"image."),r.url=a,r.fromMedialibrary=!0,this.image.insert(r,!1,i),this.medialibrary.BottomSheets.hide()}}};