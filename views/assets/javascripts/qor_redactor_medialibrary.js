$.Redactor.prototype.medialibrary=function(){return{init:function(){var t=this.button.add("medialibrary","MediaLibrary");this.button.addCallback(t,this.medialibrary.addMedialibrary),this.button.setIcon(t,'<i class="material-icons">photo_library</i>')},addMedialibrary:function(){var t,a=this.$element,i={},r=a.data().redactorSettings.medialibraryUrl;this.medialibrary.BottomSheets=t=$("body").data("qor.bottomsheets"),i.url=r,t.open(i,this.medialibrary.handleMediaLibrary)},handleMediaLibrary:function(){var t=$(".qor-bottomsheets"),a={formatOnSelect:this.medialibrary.formatSelectResults,formatOnSubmit:this.medialibrary.formatSubmitResults};t.qorSelectCore(a).addClass("qor-bottomsheets__mediabox").find(".qor-button--new").data("ingore-submit",!0)},formatSelectResults:function(t,a){this.medialibrary.formatResults(t,a)},formatSubmitResults:function(t,a){this.medialibrary.formatResults(t,a,!0)},formatResults:function(t,a,i){var r,e={};r=i?JSON.parse(a.MediaOption).URL:$(a.Image).prop("src"),r=r.replace(/image\..+\./,"image."),e.url=r,this.image.insert(e,!1,t),this.medialibrary.BottomSheets.hide()}}};